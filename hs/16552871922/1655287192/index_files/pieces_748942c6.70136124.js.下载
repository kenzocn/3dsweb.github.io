(window.webpackJsonp=window.webpackJsonp||[]).push([["pieces~748942c6"],{"04d3":function(t,e,i){},"05a4":function(t,e,i){"use strict";i("b8cf")},"0da5":function(t,e,i){"use strict";i.r(e);i("d25f");var a=i("c101"),n=i("aa4b"),s={name:"expenses_detail",components:{Search:a.a},data:function(){return{keywords:"",list:{data:[],status:"loading",all:[],current_page:0}}},created:function(){this.userInfo=this.$store.state.user.userInfo,this.hospital=this.$store.state.main.hospital,this.getCostList()},methods:{getCostList:function(){var t=this,e={org_id:this.hospital.id,query:this.keywords,current_page:this.list.current_page+1};this.list.status="loading",(this.$config.expenses_v2?n.a.getFeeList_v2(e):n.a.getFeeList(e)).then((function(e){e.list=e.list||[];var i=e.list.map((function(t){return t.price=t.price.toFixed(2),t.icon="icon-yen-sign-solid",t.title=t.expense_name||t.expenseName,t.data=[{label:"计量单位",data:t.unit},{label:"收费",data:t.price+"元"}],t}));t.list.data=t.list.data.concat(i),t.list.current_page=e.current_page,t.list.current_page>=e.page_count?t.list.status="finish":t.list.status=""}))},search:function(){this.list.current_page=0,this.list.status="",this.list.data=[],this.getCostList()}}},c=(i("ec21"),i("cba8")),o=Object(c.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-expenses nf-page"},[i("search",{attrs:{"show-action":"",placeholder:"搜索药品名称",shape:"round","left-icon":""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},scopedSlots:t._u([{key:"action",fn:function(){return[i("i",{staticClass:"iconfont icon-search page-expenses_search_icon",on:{click:t.search}})]},proxy:!0}]),model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}}),i("list",{staticClass:"page-expenses_list",attrs:{list:t.list.data,status:t.list.status},on:{load:t.getCostList},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item;e.index;return[i("div",{staticClass:"page-expenses_card"},[i("i",{staticClass:"iconfont icon-yen-sign-solid"}),i("div",{staticClass:"page-expenses_content"},[i("header",{staticClass:"page-expenses_header"},[t._v(t._s(a.title))]),i("ul",{staticClass:"page-expenses_info"},[i("li",{staticClass:"page-expenses_item"},[i("div",[t._v("单位："+t._s(a.unit))]),i("div",[t._v("收费："+t._s(a.price)+" 元")])])])])])]}}])})],1)}),[],!1,null,null,null);e.default=o.exports},1:function(t,e){},"15eb":function(t,e,i){},"1a9e":function(t,e,i){"use strict";i("4997")},"1c31":function(t,e,i){"use strict";var a=i("b775"),n=i("99b1"),s={getPacsList:function(t){return Object(a.a)({url:n.a.pacs_list,method:"get",params:t})},getPacsDetail:function(t){return Object(a.a)({url:n.a.pacs_detail,method:"get",params:t})},getPacsWebUrl:function(t){return Object(a.a)({url:n.a.pacs_weburl,method:"get",params:t})},getPhyList:function(t){return Object(a.a)({url:n.a.phy_list,method:"get",params:t})},getPhyDetail:function(t){return console.log(t,{physical_no:t}),Object(a.a)({url:n.a.phy_detail,method:"get",params:{physical_no:t}})},getPhySummary:function(t){return Object(a.a)({url:n.a.phy_summary,method:"get",params:{physical_no:t}})},getPhyResult:function(t){return Object(a.a)({url:n.a.phy_result,method:"get",params:{physical_no:t}})},getPhySuggest:function(t){return Object(a.a)({url:n.a.phy_suggestion,method:"get",params:{physical_no:t}})},getNuclein:function(t){return Object(a.a)({url:n.a.nuclein_detail,method:"get",params:{idcard:t}})},v2:{getPacsList:function(t){return Object(a.a)({url:n.a.v2+n.a.pacs_list,method:"get",params:t})},getPacsDetail:function(t){return Object(a.a)({url:n.a.v2+n.a.pacs_detail,method:"get",params:t})},buildPacs:function(t){return Object(a.a)({url:n.a.v2+n.a.pacs_build,method:"get",params:t})},getPacsFile:function(t){return Object(a.a)({url:n.a.v2+n.a.pacs_download,method:"get",responseType:"blob",params:t})},getLisList:function(t){return Object(a.a)({url:n.a.v2+n.a.lis_list,method:"get",params:t})},getLisDetail:function(t){return Object(a.a)({url:n.a.v2+n.a.lis_detail,method:"get",params:t})},buildLis:function(t){return Object(a.a)({url:n.a.v2+n.a.lis_build,method:"get",params:t})},getLisFile:function(t){return Object(a.a)({url:n.a.v2+n.a.lis_download,method:"get",responseType:"blob",params:t})},getImg:function(t){return Object(a.a)({url:"/test/pacs/detail/download",method:"get",responseType:"blob",params:t})},getpdf:function(t){return Object(a.a)({url:"/test/lis/detail/download",method:"get",responseType:"blob",params:t})},getOutSite:function(t){return Object(a.a)({url:n.a.v2+n.a.xk_outsite,method:"get",params:t})}}};e.a=s},2:function(t,e){},3:function(t,e){},"39b8":function(t,e,i){"use strict";i("e5b4"),i("1bc7");var a={name:"PopSelect",props:{value:{},show:{},list:{type:Array,default:function(){return[]}}},data:function(){return{active:null}},computed:{val:{set:function(t){this.$emit("input",t)},get:function(){return this.value}},visible:{set:function(t){this.$emit("update:show",t)},get:function(){return this.show}}},watch:{list:function(){this.init()}},created:function(){this.init()},methods:{init:function(){var t=this;this.list&&this.list.length&&(this.list.forEach((function(t,e){t.index=e})),this.val&&(this.active=this.list.find((function(e){return e.id===t.val}))))},open:function(){this.visible=!0},close:function(){this.visible=!1},select:function(t){this.active=t,t.func?(t.func(),this.close()):this.submit()},submit:function(){this.val=this.active.id,this.$emit("select",this.active),this.$emit("change",this.active.id),this.close(),this.active.func&&this.active.func()}}},n=(i("d20d"),i("cba8")),s=Object(n.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"pops"}},[t.visible?i("div",{staticClass:"comp-pops",on:{click:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.close())},touchmove:function(t){t.preventDefault(),t.stopPropagation()}}},[i("div",{staticClass:"comp-pops_box",on:{click:function(t){t.stopPropagation()}}},[i("header",{staticClass:"comp-pops_header"},[i("i",{staticClass:"iconfont"}),i("span",{staticClass:"comp-pops_title"},[t._v("请选择")]),i("i",{staticClass:"iconfont icon-times-circle",on:{click:function(e){return t.close()}}})]),i("ul",{staticClass:"comp-pops_list"},t._l(t.list,(function(e){return i("li",{key:e.id,staticClass:"comp-pops_item",class:[t.active&&t.active.id===e.id?"active":""],on:{click:function(i){return t.select(e)}}},[t._v(t._s(e.label)+"\n          "),e.subtitle?i("p",{staticClass:"comp-pops_subtitle"},[t._v(t._s(e.subtitle))]):t._e()])})),0)])]):t._e()])}),[],!1,null,null,null);e.a=s.exports},"3f33":function(t,e,i){},4:function(t,e){},"424d":function(t,e,i){},4997:function(t,e,i){},"52e3":function(t,e,i){"use strict";i("e680");var a=i("ed08"),n={props:{show:{type:Boolean,default:!1},type:{type:Number,default:1},value:{type:[Array,Date,String],default:function(){}},format:{type:String,default:"{y}-{m}-{d}"},min:{},max:{},span:{type:Number,default:12}},data:function(){return{time:null,minDate2:void 0,maxDate2:new Date,check:0}},computed:{minDate:function(){return this.min},maxDate:function(){return this.max},activeTime:{set:function(t){if(0===this.type)this.time!==t&&(this.time=Object(a.a)(t));else{if(this.time[0]===t)return;this.time[0]=Object(a.a)(t);var e=new Date(this.time[0].getFullYear(),this.time[0].getMonth()+this.span||12,this.time[0].getDate());this.time[1]&&(this.time[1]>e?this.time[1]=e:this.time[1]<this.time[0]&&(this.time[1]=Object(a.a)(this.time[0]))),this.setString(),this.$forceUpdate()}},get:function(){return 0===this.type?this.time:Object(a.a)(this.time[0])}},activeTime2:{set:function(t){this.time[1]!==t&&(this.time[1]=Object(a.a)(t),this.span&&this.time[1]&&(this.time[1].getTime()-this.time[0].getTime())/864e5>30*this.span&&(this.time[0]=new Date(this.time[1].getFullYear(),this.time[1].getMonth()-this.span||12,this.time[1].getDate())),this.time[1]<this.time[0]&&(this.time[0]=Object(a.a)(this.time[1])),this.setString(),this.$forceUpdate())},get:function(){return Object(a.a)(this.time[1])}}},watch:{value:function(){this.init()},show:function(){this.init()}},created:function(){},methods:{setString:function(){this.time=Object(a.a)(this.time)},init:function(){if(this.show){if(this.value){if(a.b.equal(this.time,this.value))return;this.time=Object(a.a)(this.value)}else 0===this.type?this.time=new Date:this.time=Object(a.d)(1);this.operate(0)}},confirm:function(){var t=[];0===this.type?t=Object(a.h)(this.time,this.format):(t[0]=Object(a.h)(this.time[0],this.format),t[1]=Object(a.h)(this.time[1],this.format)),this.$emit("input",this.time),this.$emit("select",t),this.cancel()},cancel:function(){this.$emit("update:show",!1)},operate:function(t){1===this.type&&(this.check=t)}}},s=(i("69ec"),i("cba8")),c=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"comp-time"},[i("div",{on:{click:function(t){return t.stopPropagation(),(void 0).apply(null,arguments)}}},[i("header",[i("i",{staticClass:"iconfont icon-times-circle",on:{click:function(e){return e.stopPropagation(),t.cancel.apply(null,arguments)}}}),0===t.type?i("span",[t._v("请选择日期")]):i("span",[t._v("请选择时间范围")]),i("i",{staticClass:"iconfont icon-check-circle",on:{click:function(e){return e.stopPropagation(),t.confirm.apply(null,arguments)}}})]),1===t.type?i("ul",{staticClass:"time-interval"},[i("li",{class:{"time-interval-start":0===t.check},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.operate(0)}}},[i("h2",[t._v("开始时间")]),i("P",[t._v(t._s(t._f("time")(t.time[0],"{y}年{m}月{d}日")))])],1),i("li",{class:{"time-interval-end":1===t.check},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.operate(1)}}},[i("h2",[t._v("结束时间")]),i("P",[t._v(t._s(t._f("time")(t.time[1],"{y}年{m}月{d}日")))])],1)]):t._e(),i("van-datetime-picker",{directives:[{name:"show",rawName:"v-show",value:!t.check,expression:"!check"}],attrs:{type:"date","min-date":t.minDate,"max-date":t.maxDate,"show-toolbar":!1},model:{value:t.activeTime,callback:function(e){t.activeTime=e},expression:"activeTime"}}),i("van-datetime-picker",{directives:[{name:"show",rawName:"v-show",value:t.check,expression:"check"}],attrs:{type:"date","min-date":t.minDate2,"max-date":t.maxDate2,"show-toolbar":!1},model:{value:t.activeTime2,callback:function(e){t.activeTime2=e},expression:"activeTime2"}})],1)])]):t._e()}),[],!1,null,"a9df5a2a",null);e.a=c.exports},"54e6":function(t,e,i){"use strict";i.r(e);i("1bc7"),i("a450");var a=i("86a5"),n=i("aa4b"),s=i("2934"),c=i("61f7"),o={name:"suggest.vue",components:{FormItem:a.a},data:function(){return{hospital:[],category:[],info:{hos_id:0,cate_id:0,person_id:0,hos:"",cate:"",suggest:"",phone:""}}},created:function(){this.getList(),this.getCategory(11)},methods:{getList:function(t){var e=this;this.$loading.open("正在加载数据，请稍候......"),n.a.getList(t).then((function(t){e.$loading.close(),e.hospital=t.list.map((function(t){return{id:t.name,label:t.name,hos_id:t.id}})),e.hospital.length&&""===e.info.hos&&(e.info.hos=e.hospital[0].id,e.info.hos_id=e.hospital[0].hos_id)})).catch((function(){e.$loading.close()}))},getCategory:function(t){var e=this;this.$loading.open("正在加载数据，请稍候......"),s.a.category(t).then((function(t){e.$loading.close(),e.category=t.list[0].children.map((function(t){var e=parseInt(t.value);return{id:t.label,label:t.label,cate_id:e}})),console.dir(e.category),e.category.length&&""===e.info.cate&&(e.info.cate=e.category[0].id,e.info.cate_id=e.category[0].cate_id)})).catch((function(){e.$loading.close()}))},validate:function(){var t=!0;return""===this.info.suggest?(this.$message({text:"请输入您的建议",duration:1e3}),t=!1):c.a.phone(this.info.phone)||(this.$message({text:"请您输入正确的联系方式",duration:1e3}),t=!1),t},getId:function(){var t=this;this.hospital.forEach((function(e){e.id===t.info.hos&&(t.info.hos_id=e.hos_id)})),this.category.forEach((function(e){e.id===t.info.cate&&(t.info.cate_id=e.cate_id)}))},submit:function(){var t=this;if(this.validate()){this.$loading.open("正在提交，请稍候......"),this.getId();var e={org_id:this.info.hos_id,category_id:this.info.cate_id,person_id:this.$store.state.user.userInfo.my.person_id,advice:this.info.suggest,mobile:this.info.phone};s.a.sendSuggest(e).then((function(){t.$loading.close(),t.$message({text:"提交成功",duration:1e3}),t.$router.back()})).catch((function(){t.$loading.close()}))}}}},r=(i("7d72"),i("cba8")),l=Object(r.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-suggest nf-page"},[t._m(0),i("div",{staticClass:"page-suggest_content"},[i("div",[i("label",[t._v("您的建议是我们改善服务的动力")]),i("form-item",{attrs:{type:"select",label:"建议对象",list:t.hospital},model:{value:t.info.hos,callback:function(e){t.$set(t.info,"hos",e)},expression:"info.hos"}}),i("form-item",{attrs:{type:"select",label:"反馈类型",list:t.category},model:{value:t.info.cate,callback:function(e){t.$set(t.info,"cate",e)},expression:"info.cate"}}),i("form-item",{attrs:{type:"textarea",placeholder:"说说您的建议"},model:{value:t.info.suggest,callback:function(e){t.$set(t.info,"suggest",e)},expression:"info.suggest"}}),i("form-item",{attrs:{label:"联系方式"},model:{value:t.info.phone,callback:function(e){t.$set(t.info,"phone",e)},expression:"info.phone"}})],1),i("button",{on:{click:t.submit}},[t._v("提交")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-suggest_header"},[e("i",{staticClass:"iconfont icon-comment-dots"})])}],!1,null,"4c595497",null);e.default=l.exports},"551c":function(t,e,i){"use strict";i.r(e);i("51a4");var a=i("01df"),n=(i("1bc7"),i("b76b"),i("8dee"),i("d7d80"),i("36f0")),s=i.n(n),c={name:"pdf",data:function(){return{list:[]}},computed:{file:function(){return this.$store.state.main.pdf}},created:function(){var t=this;console.log(this.file),this.file||this.$router.back(),"base64"!==this.file.type?(console.log(s.a),this.getArrayBuffer(this.file).then((function(e){t.getPdf(e)}))):this.getPdf(this.getBufferByBase64(this.file.url))},mounted:function(){},methods:{getArrayBuffer:function(t){return new Promise((function(e,i){var a=new FileReader;a.onload=function(t){var i=t.target.result;e(i)},a.onerror=function(t){i(t)},a.readAsArrayBuffer(new Blob([t]))}))},getBufferByBase64:function(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(e),a=new Uint8Array(i.length),n=0;n<i.length;++n)a[n]=i.charCodeAt(n);return a},getPdf:function(t){var e=this,i=s.a.getDocument(t);console.log(i),i.promise.then((function(t){e.pdf=t,e.createPage(t)})).catch((function(t){console.log(t,1)}))},createPage:function(){var t=this;this.list=[];for(var e=0;e<this.pdf.numPages;e++)this.list.push({index:e,page:e+1,done:!1,id:"pdf".concat(e),scale:2});this.pdf.left=this.pdf.numPages,console.log(this.list,this.pdf),this.$nextTick((function(){t.list.forEach((function(e){t.loadPage(e.index)}))}))},loadPage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=this.list[e];i.done||this.pdf.getPage(i.page).then((function(e){var a=e.getViewport({scale:i.scale}),n=t.$refs[i.id][0];console.log(a);var s=n.getContext("2d");n.height=a.height,n.width=a.width;var c={canvasContext:s,viewport:a};e.render(c),i.canvas=n,i.viewport=a,i.context=s,i.url=n.toDataURL(),i.done=!0,console.log(i)}))},showDetail:function(t){t.canvas&&(t.url=t.canvas.toDataURL(),Object(a.a)({images:[t.url],closeable:!0,transition:"none"}))}}},o=(i("7f41"),i("cba8")),r=Object(o.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pdf"},[i("p",{staticClass:"pdf_tip"},[t._v("请点击下列图片，查看原图")]),t._l(t.list,(function(e){return[i("canvas",{key:e.index,ref:e.id,refInFor:!0,staticClass:"pdf_page",on:{click:function(i){return t.showDetail(e)}}})]}))],2)}),[],!1,null,null,null);e.default=r.exports},"616c":function(t,e,i){},"61f7":function(t,e,i){"use strict";i("e680"),i("d0f2"),i("3269");var a={idCard:function(t){return/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(t)},phone:function(t){return/^1\d{10}$/.test(t)},birthday:function(t){return/((19|20)\d{2})(0[1-9]|1[0-2])([0-2][1-9]|10|20|30|31)/.test(t)},idCardGB:function(t){var e,i,a,n,s,c,o=["1","0","X","9","8","7","6","5","4","3","2"],r=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2];if(t=t.toUpperCase(),!/(^\d{15}$)|(^\d{17}([0-9]|X)$)/.test(t))return!1;if(15===(s=t.length)){if(c=new RegExp(/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/),n=t.match(c),(a=new Date("19"+n[2]+"/"+n[3]+"/"+n[4])).getYear()===Number(n[2])&&a.getMonth()+1===Number(n[3])&&a.getDate()===Number(n[4])){for(e=0,t=t.substr(0,6)+"19"+t.substr(6,t.length-6),i=0;i<17;i++)e+=t.substr(i,1)*r[i];return t+=o[e%11],!0}return!1}if(18===s){if(c=new RegExp(/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/),n=t.match(c),(a=new Date(n[2]+"/"+n[3]+"/"+n[4])).getFullYear()===Number(n[2])&&a.getMonth()+1===Number(n[3])&&a.getDate()===Number(n[4])){if(a.getFullYear()<1900)return!1;for(e=0,i=0;i<17;i++)e+=t.substr(i,1)*r[i];return o[e%11]===t.substr(17,1)}return!1}return!1}};e.a=a},"69ec":function(t,e,i){"use strict";i("424d")},"6d65":function(t,e,i){"use strict";i.r(e);i("a450"),i("1bc7");var a=i("8654"),n=i("2934"),s={name:"",components:{Tab:a.a},data:function(){return{tabActive:0,tab:[],list:[]}},created:function(){this.getList()},methods:{getList:function(){var t=this;n.a.getParameters(0,"wx_matrix").then((function(e){var i=JSON.parse(e);i.forEach((function(t,e){t.label=t.name,t.id=e+1,t.index=e})),t.tab=i,i&&i.length&&(t.tabActive=1,t.list=i[0].list)})).catch()},change:function(t){this.list=this.tab[t.index].list}}},c=(i("05a4"),i("cba8")),o=Object(c.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"matrix"},[i("tab",{staticClass:"matrix_tab",attrs:{type:"2",list:t.tab},on:{inputAll:t.change},model:{value:t.tabActive,callback:function(e){t.tabActive=e},expression:"tabActive"}}),i("ul",{staticClass:"matrix_list"},t._l(t.list,(function(e,a){return i("a",{key:a,staticClass:"matrix_link",attrs:{href:e.url}},[i("img",{staticClass:"matrix_img",attrs:{src:e.img,alt:e.title}}),i("h3",{staticClass:"matrix_title"},[t._v(t._s(e.title))])])})),0)],1)}),[],!1,null,null,null);e.default=o.exports},"710c":function(t,e,i){},"7d72":function(t,e,i){"use strict";i("04d3")},"7f41":function(t,e,i){"use strict";i("710c")},8654:function(t,e,i){"use strict";i("aa18"),i("982e"),i("e5b4"),i("a7e5"),i("e680");var a={props:{type:{type:String,default:"1"},list:{type:Array,default:function(){return[]}},fsdList:{type:Array,default:function(){return[]}},float:{type:Boolean,default:!1},value:{type:[String,Number]}},data:function(){return{active:this.value}},watch:{list:function(){this.init()},value:function(t){var e=this;this.active=t,this.list&&this.list.length&&this.$nextTick((function(){e.checkVisible()}))}},created:function(){this.init()},mounted:function(){},methods:{checkVisible:function(){var t=this,e=this.list.findIndex((function(e){return e.id===t.active}));if(-1!==e){var i=this.$refs.list,a=this.$refs["item".concat(e)][0],n=a.offsetLeft+a.clientWidth-i.clientWidth;n>i.scrollLeft&&(i.scrollLeft=n),a.offsetLeft<i.scrollLeft&&(i.scrollLeft=a.offsetLeft)}},init:function(){var t=this;if(this.value){var e=this.list.find((function(e){return e.id==t.value}));this.setActive(e)}else this.list&&this.list.length&&this.setActive(this.list[0]);this.list&&this.list.length&&this.$nextTick((function(){t.checkVisible()}))},setActive:function(t,e){this.fsdList.length&&!this.fsdList.includes(t.label2)||(this.$emit("input",t.id),this.$emit("inputAll",t,e),this.active=t.id)}}},n=(i("d50b"),i("cba8")),s=Object(n.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comp-tab",class:["comp-tab--"+t.type,t.float?"comp-tab--float":""]},[i("ul",{ref:"list",staticClass:"comp-tab_ul"},[t._l(t.list,(function(e,a){return i("li",{key:a,ref:"item"+a,refInFor:!0,staticClass:"comp-tab_li",class:{active:e.id===t.active,no_reserve:t.fsdList.length&&!t.fsdList.includes(e.label2)},on:{click:function(i){return t.setActive(e,a)}}},[e.icon?i("i",{staticClass:"comp-tab_icon",class:"iconfont "+e.icon}):t._e(),t._v("\n      "+t._s(e.label||"--")+"\n      "),e.label2?i("span",{staticClass:"label2 comp-tab_label2"},[t._v(t._s(e.label2))]):t._e(),e.label3?i("span",{staticClass:"label3 comp-tab_label3"},[t._v(t._s(e.label3))]):t._e()])})),t._t("default")],2)])}),[],!1,null,null,null);e.a=s.exports},"86a5":function(t,e,i){"use strict";i("a7e5"),i("e680");var a=i("52e3"),n={name:"",components:{PopSelect:i("39b8").a,TimeSelect:a.a},props:{type:{type:String,default:"text"},label:{type:String,default:""},value:{},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}},required:{type:Boolean,default:!1},error:{type:String,default:""},maxlength:{type:Number},format:{type:String,default:"{y}-{m}-{d}"},minDate:{type:Date,default:function(){return new Date("1990/01/01")}},maxDate:{type:Date,default:function(){return new Date}}},data:function(){return{cascaderValue:"",selectCurrent:"",show:{cascader:!1,idcard:!1,select:!1,time:!1}}},computed:{val:{set:function(t){this.$emit("input",t)},get:function(){return this.value}},classList:function(){var t=[];return this.type&&t.push("comp-input--".concat(this.type)),this.required&&t.push("comp-input--required"),this.error&&t.push("comp-input--error"),this.disabled&&t.push("comp-input--disabled"),t},selectIndex:function(){var t=this,e=-1,i=this.value;return 0!==i&&""!==i||(i=!0),i&&this.list&&this.list.length&&(e=this.list.findIndex((function(e){return e.id===t.val}))),e}},methods:{openPopup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"select";this.disabled||this.readOnly||(this.show[t]=!0,this.selectCurrent=-1===this.selectIndex?0:this.selectIndex)},closePopup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"select";this.show[t]=!1},selectChange:function(t,e,i){console.log(t,e,i),this.selectCurrent=i},selectChange1:function(t){this.selectCurrent=t.index,this.val=this.list[this.selectCurrent].id},selectConfirm:function(){this.selectCurrent||0===this.selectCurrent||(-1===this.selectIndex?this.selectCurrent=0:this.selectCurrent=this.selectIndex);var t=this.list[this.selectCurrent].id;this.$emit("input",t),this.closePopup()},radioChoose:function(t){this.disabled||this.readOnly||this.$emit("input",t.id)},timeSelect:function(t){this.$emit("select",t)},keyDown:function(t){t.key&&1===t.key.length&&this.$emit("input",this.val+t.key)},inputValue:function(t){this.$emit("input",t)},action:function(){this.$emit("action")},onFinish:function(t){var e=t.selectedOptions;this.show.cascader=!1,this.$emit("onFinish",e)},onChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.val;this.$emit("change",t)},hideKey:function(){this.show.idcard=!1,this.blur()},blur:function(){this.$emit("blur",this.val)}}},s=(i("e4b2"),i("cba8")),c=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"comp-input",class:t.classList},[i("div",{staticClass:"comp-input_main"},["SMS"===t.type?i("em",{staticClass:"comp-input_label"},[t._v("验证码")]):t.label?i("em",{staticClass:"comp-input_label"},[t._v(t._s(t.label))]):t._e(),"textarea"===t.type?i("textarea",{staticClass:"comp-input_input comp-input_textarea",attrs:{disabled:t.disabled,placeholder:t.placeholder,rows:"2"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}):"buttons"===t.type?i("div",{staticClass:"comp-input_rbtns"},t._l(t.list,(function(e,a){return i("button",{key:a,staticClass:"comp-input_rbtn",class:{active:e.id===t.value},on:{click:function(i){return t.radioChoose(e)}}},[t._v(t._s(e.label)+"\n      ")])})),0):"select"===t.type?[i("span",{staticClass:"comp-input_input",class:{"comp-input_placeholder":-1===t.selectIndex},on:{click:function(e){return t.openPopup()}}},[t._v("\n        "+t._s(-1!==t.selectIndex?t.list[t.selectIndex].label:t.placeholder))]),i("i",{staticClass:"iconfont icon-chevron-right comp-input_right",on:{click:function(e){return t.openPopup()}}}),i("transition",{attrs:{name:"select-fade"}},[t.show.select?i("div",{staticClass:"comp-input_popup",on:{click:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.closePopup())},touchmove:function(t){t.preventDefault(),t.stopPropagation()}}},[i("div",{staticClass:"comp-input_box",on:{click:function(t){t.stopPropagation()}}},[i("header",[i("i",{staticClass:"iconfont icon-times-circle",on:{click:function(e){return t.closePopup()}}}),i("span",[t._v("请选择")]),i("i",{staticClass:"iconfont icon-check-circle",on:{click:t.selectConfirm}})]),i("van-picker",{attrs:{columns:t.list,"default-index":t.selectIndex,"value-key":"label"},on:{change:t.selectChange}})],1)]):t._e()])]:"select1"===t.type?[i("span",{staticClass:"comp-input_input",class:{"comp-input_placeholder":-1===t.selectIndex},on:{click:function(e){return t.openPopup()}}},[t._v(t._s(-1!==t.selectIndex?t.list[t.selectIndex].label:t.placeholder))]),i("i",{staticClass:"iconfont icon-chevron-right comp-input_right",on:{click:function(e){return t.openPopup()}}}),i("pop-select",{attrs:{show:t.show.select,value:t.val,list:t.list},on:{"update:show":function(e){return t.$set(t.show,"select",e)},select:t.selectChange1}})]:"cascader"===t.type?[i("span",{staticClass:"comp-input_input",class:{"comp-input_placeholder":-1===t.selectIndex},on:{click:function(e){return t.openPopup("cascader")}}},[t._v(t._s(t.value?t.value:t.placeholder))]),i("i",{staticClass:"iconfont icon-chevron-right comp-input_right",on:{click:function(e){return t.openPopup("cascader")}}}),i("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.show.cascader,callback:function(e){t.$set(t.show,"cascader",e)},expression:"show.cascader"}},[i("van-cascader",{attrs:{title:"请选择所在地区",options:t.list,"active-color":"#2F9EFD"},on:{change:t.onChange,close:function(e){t.show.cascader=!1},finish:t.onFinish},model:{value:t.cascaderValue,callback:function(e){t.cascaderValue=e},expression:"cascaderValue"}})],1)]:"time"===t.type?[i("span",{staticClass:"comp-input_input",on:{click:function(e){return t.openPopup("time")}}},[t._v(t._s(t._f("time")(t.value,t.format)))]),i("i",{staticClass:"iconfont icon-chevron-right comp-input_right",on:{click:function(e){return t.openPopup("time")}}}),i("time-select",{attrs:{format:t.format,show:t.show.time,type:0,value:t.value,min:t.minDate,max:t.maxDate},on:{"update:show":function(e){return t.$set(t.show,"time",e)},input:t.inputValue,select:t.timeSelect}})]:"idcard"===t.type?[i("input",{staticClass:"comp-input_input",attrs:{type:"text",placeholder:t.placeholder,readonly:""},domProps:{value:t.value},on:{click:function(e){return t.openPopup("idcard")},keydown:t.keyDown}}),i("van-number-keyboard",{attrs:{show:t.show.idcard,"extra-key":"X","close-button-text":"完成",maxlength:18},on:{blur:t.hideKey,click:function(t){t.stopPropagation()}},model:{value:t.val,callback:function(e){t.val=e},expression:"val"}})]:"SMS"===t.type?[i("input",{staticClass:"comp-input_input",attrs:{placeholder:t.placeholder,readOnly:t.readOnly,type:t.type},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),i("button",{staticClass:"nf-btn nf-btn--outline comp-input_smsbtn",attrs:{disabled:t.disabled},on:{click:t.action}},[t._v(t._s(t.label)+"\n      ")])]:i("input",{staticClass:"comp-input_input",attrs:{disabled:t.disabled,placeholder:t.placeholder,readOnly:t.readOnly,type:t.type,maxlength:"maxlength"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)},blur:t.blur}})],2),t.error?i("p",{staticClass:"comp-input_tip"},[i("i",{staticClass:"iconfont icon-exclamation-circle-solid"}),t._v(t._s(t.error))]):t._e()])}),[],!1,null,null,null);e.a=c.exports},"8cdb":function(t,e,i){"use strict";i.r(e);var a=i("2459"),n=i("5d2d"),s={components:{Tip:a.a},methods:{backHome:function(){this.$router.backHome()},clear:function(){n.b.clear()}}},c=i("cba8"),o=Object(c.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-404 nf-page"},[e("tip",{attrs:{icon:"icon-sad-tear",title:"404"}},[this._v("没有匹配的页面哦")]),e("footer",{staticClass:"nf-btns"},[e("button",{staticClass:"nf-btn nf-btn--outline",on:{click:this.clear}},[this._v("清除缓存")])])],1)}),[],!1,null,null,null);e.default=o.exports},"93d1":function(t,e,i){"use strict";i.r(e);i("4057"),i("8dee");var a=i("ae8d"),n=i("1c31"),s=i("ed08"),c={name:"",components:{Card:a.a},data:function(){return{show:!0,type:null,detail:{},card:{type:"info2",m0:!0,data:[{type:"lrb",label:"检验项目",data:""},{type:"lrb",label:"参考范围",data:""},{type:"lrb",label:"结果",data:""}]},check:{type:"info2",m0:!0,data:[{type:"lrb",label:"检查人",data:""},{type:"lrb",label:"审核人",data:""},{type:"lrb",label:"采集时间",data:""},{type:"lrb",label:"检验时间",data:""},{type:"lrb",label:"审核时间",data:""}]}}},created:function(){this.getDetail()},methods:{getDetail:function(){var t=this,e=this.$store.state.user.userInfo.my?this.$store.state.user.userInfo.my.idcard:"";this.$loading.open("正在获取数据，请稍候......"),n.a.getNuclein(e).finally((function(){t.$loading.close()})).then((function(e){e?(t.show=!0,t.detail=e,t.card.data[0].data=e.xmmc,t.card.data[1].data=e.ckz,t.card.data[2].data=e.result,e.result.indexOf("阳性")>-1?t.type=!0:t.type=!1,t.check.data[0].data=e.jyry,t.check.data[1].data=e.shry,t.check.data[2].data=t.formatTime(e.cjsj),t.check.data[3].data=t.formatTime(e.jysj),t.check.data[4].data=t.formatTime(e.shsj)):t.show=!1})).catch()},formatTime:function(t){if(t){var e=t.toString().replace(/-/g,"/");return Object(s.h)(new Date(e),"{y}-{m}-{d} {h}:{i}")}return""}}},o=(i("1a9e"),i("cba8")),r=Object(o.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nf-nuclein"},[t.show?[a("div",{staticClass:"nf-card"},[a("header",[t._v(t._s(t.detail.name||"--")+" "+t._s(t.detail.sex||"--"))]),a("p",[t._v("门诊号："+t._s(t.detail.mzh||"--"))]),a("p",[a("span",[t._v("科别："+t._s(t.detail.deptname||"--"))]),a("span",[t._v("送检医生："+t._s(t.detail.doctorname||"--"))])]),a("p",[t._v("样本类别："+t._s(t.detail.bblx||"--"))]),a("div",[t._v("临床诊断："+t._s(t.detail.diag||"--"))])]),a("div",{staticClass:"nf-card"},[a("header",[t._v("最新检验结果")]),a("h2",{class:{"nf-color-success":!t.type,"nf-color-warning":t.type}},[t._v(t._s(t.detail.result||"--"))])]),a("card",{key:t.card.label,class:{"nf-list-success":!t.type,"nf-list-warning":t.type},attrs:{data:t.card.data,title:t.card.title,type:t.card.type,tag:t.card.tag,m0:t.card.m0}}),a("card",{key:t.check.label,attrs:{data:t.check.data,title:t.check.title,type:t.check.type,tag:t.check.tag,m0:t.check.m0}})]:a("div",{staticClass:"nf-no-data"},[a("img",{attrs:{src:i("c827")}}),a("p",[t._v("您尚未进行检测")])])],2)}),[],!1,null,"1f0ef634",null);e.default=r.exports},aa4b:function(t,e,i){"use strict";i("d91d");var a=i("b775"),n=i("99b1"),s=window.eventBus.$config,c=function(t){return(s.reserve_v2?n.a.v2:"")+t},o={getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(a.a)({url:n.a.hospital_list,method:"get",params:{type:t}})},getHosDetail:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(a.a)({url:n.a.hospital_detail,method:"get",params:{id:t}})},getDeptList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"N";return Object(a.a)({url:c(n.a.dept_list),method:"get",params:{org_id:t,dept_name:e,search_method:i,search_time:s,is_night:o}})},getDeptList2:function(t){return Object(a.a)({url:c(n.a.dept_list),method:"get",params:t})},getDeptListDoc:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return Object(a.a)({url:n.a.dept_list_doc,method:"get",params:{org_id:t,dept_name:e,search_method:i,search_time:s}})},getDeptDocList:function(t){return Object(a.a)({url:n.a.doctor_reserve_list,method:"get",params:t})},getDeptDocAllList:function(t){return Object(a.a)({url:n.a.doctor_all_list,method:"get",params:t})},getType:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(a.a)({url:n.a.dept_list,method:"get",params:{org_id:t}})},getMedicalList:function(t){return Object(a.a)({url:n.a.medicinal_list,method:"get",params:t})},getMedicalList_v2:function(t){return Object(a.a)({url:n.a.v2+n.a.medicinal_list,method:"get",params:t})},getMedicalDetail:function(t){return Object(a.a)({url:n.a.medicinal_detail,method:"get",params:t})},getFeeList:function(t){return Object(a.a)({url:n.a.fee_list,method:"get",params:t})},getFeeList_v2:function(t){return Object(a.a)({url:n.a.v2+n.a.fee_list,method:"get",params:t})},getDocDetail:function(t){return Object(a.a)({url:c(n.a.doctor_detail),method:"get",params:t})},getDocDetailByCode:function(t){return Object(a.a)({url:n.a.doctor_detail_byCode,method:"get",params:t})},getDeptDetail:function(t){return Object(a.a)({url:n.a.dept_detail,method:"get",params:t})},getBodyPart:function(t){return Object(a.a)({url:n.a.diagnosis_body,method:"get",params:t})},getResult:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(a.a)({url:n.a.diagnosis_dept,method:"get",params:{diagnosisid:t}})},getResultOther:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(a.a)({url:n.a.diagnosis_dept_other,method:"get",params:{diagnosisid:t}})},getRegisteredUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(a.a)({url:n.a.v2+n.a.diagnosis_registered_url,method:"get",params:{appoint_id:t}})},getDiagnosisMz:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(a.a)({url:n.a.v2+n.a.diagnosis_mz,method:"get",params:{mzh:t}})},getEpidemicHistory:function(){return Object(a.a)({url:n.a.v2+n.a.diagnosis_mz_epidemic_history,method:"get"})},saveDiagnosisMz:function(t){return Object(a.a)({url:n.a.v2+n.a.diagnosis_mz,method:"post",data:t})},getSearchList:function(t){return Object(a.a)({url:n.a.v2+n.a.doctor_search_list,method:"get",params:t})},getDoctorSchedule:function(t){return Object(a.a)({url:n.a.v2+n.a.doctor_schedule,method:"get",params:t})},getDoctorTitle:function(t){return Object(a.a)({url:n.a.v2+n.a.doctor_title_list,method:"get",params:{org_id:t}})},getDoctorCommend:function(t){return Object(a.a)({url:n.a.v2+n.a.doctor_recommend,method:"get",params:t})},getSearch:function(t){return Object(a.a)({url:n.a.v2+n.a.search,method:"get",params:t})},getDeptPopular:function(t){return Object(a.a)({url:n.a.v2+n.a.dept_popular,method:"get",params:t})},getDoctorXK:function(t){return Object(a.a)({url:n.a.v2+n.a.doctor_xk_outsite,method:"get",params:t})}};e.a=o},b8cf:function(t,e,i){},c827:function(t,e,i){t.exports=i.p+"img/nuclein.67634489.png"},d20d:function(t,e,i){"use strict";i("15eb")},d50b:function(t,e,i){"use strict";i("3f33")},e371:function(t,e,i){},e4b2:function(t,e,i){"use strict";i("e371")},ec21:function(t,e,i){"use strict";i("616c")}}]);